{% extends 'base.html' %}
{% block title %}Recommendations | EloqAI{% endblock %}

{% block content %}
  <!-- 🌟 Titre principal -->
  <h2 class="text-5xl font-bold text-center text-gray-800 mt-10 font-[GreatVibes]">Set Your Speaking Goals</h2>
  <p class="text-center text-gray-600 mt-2 mb-6">
    Define what you want to achieve in your communication journey. EloqAI will guide you step by step.
  </p>

  <!-- 📦 Cadre principal avec les objectifs + formulaire -->
  <div class="max-w-xl mx-auto px-6 py-6 bg-white shadow-lg rounded-lg">
    
    <!-- 📝 Liste des objectifs existants -->
    <ul class="space-y-3 mb-6">
      {% for goal in goals %}
        <li class="flex justify-between items-center bg-gray-100 p-3 rounded shadow-sm font-[EBGaramond]">
          <span class="text-gray-700 font-medium">{{ goal.goals_name }}</span>
          <form method="post" action="{% url 'delete_goal' goal.id %}">
            {% csrf_token %}
            <button type="submit" class="text-red-600 hover:text-red-800 text-sm font-semibold">Delete</button>
          </form>
        </li>
      {% endfor %}
    </ul>

    <!-- ➕ Formulaire d'ajout d'objectif -->
    <form method="post" action="{% url 'goal' %}" class="space-y-4">
      {% csrf_token %}
      
      <div>
        <label for="id_goals_name" class="block text-sm font-medium text-gray-700 mb-1">New Goal</label>
        <input
          type="text"
          name="goals_name"
          id="id_goals_name"
          class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"
          placeholder="e.g. Speak confidently in interviews"
          required
        >
      </div>

      <button
        type="submit"
        class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-semibold shadow"
      >
        Add Goal
      </button>
    </form>
  </div>
{% endblock %}
